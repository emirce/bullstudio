---
title: "Claude Code Setup"
description: "Configure Claude Code for BullMQ and bullstudio development"
icon: "asterisk"
---

Claude Code is Anthropic's official CLI tool. This guide helps you configure Claude Code for developing BullMQ queue systems with bullstudio monitoring.

## Prerequisites

- Active Claude subscription (Pro, Max, or API access)
- A project using BullMQ

## Setup

1. Install Claude Code globally:

```bash
npm install -g @anthropic-ai/claude-code
```

2. Navigate to your project directory
3. Add the `CLAUDE.md` file below to your project root
4. Run `claude` to start

## Create `CLAUDE.md`

Create a `CLAUDE.md` file at the root of your project:

````markdown
# BullMQ and bullstudio development

## Project context

- This project uses BullMQ for job queue processing
- Queues are monitored via bullstudio (https://bullstudio.dev)
- Redis is used as the queue backend

## Working relationship

- Ask for clarification rather than making assumptions
- Explain trade-offs when suggesting approaches
- Consider production reliability in all suggestions

## BullMQ code standards

### Queue configuration

```typescript
import { Queue } from 'bullmq';

const queue = new Queue('descriptive-queue-name', {
  connection: redisConnection,
  defaultJobOptions: {
    attempts: 3,
    backoff: { type: 'exponential', delay: 1000 },
    removeOnComplete: { age: 3600, count: 1000 },
    removeOnFail: { age: 86400 },
  },
});
```

### Worker configuration

```typescript
import { Worker, Job } from 'bullmq';

const worker = new Worker(
  'queue-name',
  async (job: Job) => {
    await job.updateProgress(10);
    const result = await process(job.data);
    await job.updateProgress(100);
    return result;
  },
  {
    connection: redisConnection,
    concurrency: 5,
  }
);

worker.on('failed', (job, err) => {
  console.error(`Job ${job?.id} failed:`, err);
});
```

## Error handling patterns

- Wrap processing in try-catch
- Use UnrecoverableError for permanent failures
- Log failures with job ID and context
- Configure appropriate retry strategies

## Code quality requirements

- TypeScript with proper typing
- Interfaces for job data structures
- Environment variables for configuration
- Error handlers on all workers
- Descriptive job and queue names

## bullstudio integration

- Use descriptive job names (shown in UI)
- Report progress for visibility
- Structure data as clean JSON
- Use consistent naming conventions

## Do not

- Hardcode credentials
- Create workers without error handlers
- Use generic names like "job" or "queue"
- Ignore failed jobs without logging
````

## Using Claude Code with bullstudio

### Creating workers

```
Create a BullMQ worker for processing order confirmations.
It should:
- Send confirmation emails
- Update the order status in the database
- Handle SMTP failures with retries
- Report progress to bullstudio
```

### Debugging issues

```
Jobs are failing with this error from bullstudio:
[paste error message and stack trace]

Job data:
[paste job data from bullstudio]

Help me understand and fix this issue.
```

### Optimizing queues

```
My bullstudio dashboard shows high failure rates (8%)
for the email-notifications queue.

Current worker code:
[paste code]

How can I improve reliability?
```

### Setting up monitoring

```
I want to set up alerts in bullstudio for my payment queue.
What thresholds should I use if:
- Normal throughput: 200 jobs/hour
- Normal failure rate: 0.5%
- Normal processing time: 300ms
```

## Next Steps

<Columns cols={2}>
  <Card title="Connection Setup" icon="plug" href="/getting-started/connection/overview">
    Connect your queues to bullstudio.
  </Card>
  <Card title="Alerts" icon="bell" href="/features/alerts">
    Set up queue monitoring alerts.
  </Card>
</Columns>
