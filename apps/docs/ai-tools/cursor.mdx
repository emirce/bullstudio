---
title: "Cursor Setup"
description: "Configure Cursor for BullMQ and bullstudio development"
icon: "arrow-pointer"
---

Configure Cursor to help you build and maintain BullMQ queue systems with bullstudio monitoring. This guide provides project rules optimized for queue development.

## Prerequisites

- Cursor editor installed
- A project using BullMQ

## Setup

Create project rules that all team members can use. In your project root:

```bash
mkdir -p .cursor
```

Create `.cursor/rules.md`:

````markdown
# BullMQ and bullstudio development rules

## Project context

- This project uses BullMQ for job queue processing
- Queues are monitored via bullstudio (https://bullstudio.dev)
- We follow BullMQ best practices for reliability and performance

## BullMQ patterns

### Queue creation

```typescript
import { Queue } from 'bullmq';

const queue = new Queue('queue-name', {
  connection: {
    host: process.env.REDIS_HOST,
    port: parseInt(process.env.REDIS_PORT || '6379'),
    password: process.env.REDIS_PASSWORD,
  },
  defaultJobOptions: {
    attempts: 3,
    backoff: {
      type: 'exponential',
      delay: 1000,
    },
    removeOnComplete: {
      age: 3600,
      count: 1000,
    },
    removeOnFail: {
      age: 86400,
    },
  },
});
```

### Worker creation

```typescript
import { Worker, Job } from 'bullmq';

const worker = new Worker(
  'queue-name',
  async (job: Job) => {
    // Report progress
    await job.updateProgress(10);

    // Process job
    const result = await processJob(job.data);

    await job.updateProgress(100);
    return result;
  },
  {
    connection: {
      host: process.env.REDIS_HOST,
      port: parseInt(process.env.REDIS_PORT || '6379'),
      password: process.env.REDIS_PASSWORD,
    },
    concurrency: 5,
  }
);

worker.on('failed', (job, err) => {
  console.error(`Job ${job?.id} failed:`, err);
});
```

## Error handling requirements

- Always wrap job processing in try-catch
- Log errors with job ID and relevant context
- Use appropriate error types for different failure modes
- Configure retry strategies based on error type

```typescript
async (job: Job) => {
  try {
    await processJob(job.data);
  } catch (error) {
    if (error instanceof TransientError) {
      // Will be retried
      throw error;
    }
    if (error instanceof PermanentError) {
      // Log and don't retry
      console.error(`Permanent failure for job ${job.id}:`, error);
      throw new UnrecoverableError(error.message);
    }
    throw error;
  }
}
```

## Code quality standards

- Use TypeScript for type safety
- Define interfaces for job data
- Use environment variables for configuration
- Add JSDoc comments for complex logic
- Test workers with unit tests

## bullstudio integration notes

- Job names should be descriptive (used in bullstudio UI)
- Report progress for long-running jobs (visible in job details)
- Use consistent queue naming conventions
- Structure job data as clean JSON (viewable in bullstudio)

## Do not

- Hardcode Redis credentials
- Ignore job failures without logging
- Create workers without error handlers
- Use generic job names like "job" or "task"
````

## Using Cursor with bullstudio

When asking Cursor for help:

### Creating new workers

```
Create a worker for processing [describe your job type].
It should connect to Redis, handle errors properly,
and report progress to bullstudio.
```

### Debugging failed jobs

```
This job is failing with [error message].
Here's the job data: [paste from bullstudio]
Help me fix the worker code.
```

### Optimizing performance

```
My queue has high processing time (showing Xms in bullstudio).
Here's the current worker code: [paste code]
How can I optimize it?
```

## Next Steps

<Columns cols={2}>
  <Card title="Connection Setup" icon="plug" href="/getting-started/connection/overview">
    Connect your queues to bullstudio.
  </Card>
  <Card title="Dashboard" icon="chart-line" href="/features/dashboard">
    Monitor your queue metrics.
  </Card>
</Columns>
